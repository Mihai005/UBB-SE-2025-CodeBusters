<Page
    x:Class="MealPlanner.Pages.GoalPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:vm="using:MealPlanner.ViewModels"
    Background="#FCE8DC">

    <Page.DataContext>
        <vm:GoalViewModel/>
    </Page.DataContext>

    <Grid Padding="30">
        <!-- Back Button -->
        <Button Content="←" FontSize="20"
                HorizontalAlignment="Left"
                VerticalAlignment="Top"
                Command="{Binding BackCommand}"
                BorderThickness="0"
                Background="Transparent"
                Foreground="Black"/>

        <!-- Skip Button -->
        <Button Content="Skip" FontSize="16"
                HorizontalAlignment="Right"
                VerticalAlignment="Top"
                BorderThickness="0"
                Background="Transparent"
                Foreground="Black"/>

        <!-- Title and Description -->
        <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
            <TextBlock Text="What's your goal?"
                       FontSize="32"
                       FontWeight="Bold"
                       Foreground="#1E1E1E"
                       TextAlignment="Center"
                       Margin="0,0,0,10"/>
            <TextBlock Text="This helps us tailor your meal plan to match your fitness goal"
                       FontSize="16"
                       Foreground="#4A4A4A"
                       TextAlignment="Center"
                       TextWrapping="Wrap"
                       Width="300"
                       Margin="0,0,0,20"/>

            <!-- Goal Buttons -->
            <ListView ItemsSource="{Binding Goals}" SelectionMode="None">
                <ListView.ItemTemplate>
                    <DataTemplate>
                        <Button Content="{Binding}" Style="{Binding Converter={StaticResource GoalButtonStyleConverter}}"/>
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>
        </StackPanel>

        <!-- Bottom Navigation Indicator -->
        <Grid HorizontalAlignment="Center" VerticalAlignment="Bottom" Margin="0,20,0,20">
            <StackPanel Orientation="Horizontal" Spacing="5">
                <Ellipse Width="30" Height="4" Fill="Black"/>
                <Ellipse Width="30" Height="4" Fill="Black"/>
                <Ellipse Width="30" Height="4" Fill="Gray"/>
                <Ellipse Width="30" Height="4" Fill="Gray"/>
                <Ellipse Width="30" Height="4" Fill="Gray"/>
            </StackPanel>
        </Grid>

        <!-- Next Button -->
        <Button Content="→"
            FontSize="20"
            Width="50" Height="50"
            HorizontalAlignment="Right"
            VerticalAlignment="Bottom"
            Background="DarkGreen"
            Foreground="White"
            CornerRadius="25"
            Command="{Binding NextCommand}"/>

    </Grid>
</Page>
